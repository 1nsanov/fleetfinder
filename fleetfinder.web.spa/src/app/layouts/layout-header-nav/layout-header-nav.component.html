<header id="header-nav" class="header-nav">
  <div *ngIf="!isSign" class="wrapper">
    <div class="logo" (click)="changeNavTab(navTab.home)">
      <img src="../../../assets/images/logo-black-1024.png" alt="">
    </div>
    <nav class="_container nav">
      <div class="item"
           [ngClass]="{'active': currentNavTab == navTab.transports}"
           (click)="changeNavTab(navTab.transports)"
      >
        <span>Транспорт</span>
        <div class="img-svg">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_532_561)">
              <path d="M10.8 24C10.46 24 10.1748 23.8848 9.9444 23.6544C9.714 23.424 9.5992 23.1392 9.6 22.8V16.53C9.6 16.49 9.62 16.39 9.66 16.23L11.28 11.58C11.38 11.36 11.5252 11.1748 11.7156 11.0244C11.906 10.874 12.1408 10.7992 12.42 10.8H21.18C21.46 10.8 21.6952 10.8752 21.8856 11.0256C22.076 11.176 22.2208 11.3608 22.32 11.58L23.94 16.23L24 16.53V22.8C24 23.14 23.8852 23.4252 23.6556 23.6556C23.426 23.886 23.1408 24.0008 22.8 24C22.46 24 22.1748 23.8848 21.9444 23.6544C21.714 23.424 21.5992 23.1392 21.6 22.8V22.2H12V22.8C12 23.14 11.8848 23.4252 11.6544 23.6556C11.424 23.886 11.1392 24.0008 10.8 24ZM12 15H21.6L20.76 12.6H12.84L12 15ZM13.2 19.8C13.54 19.8 13.8252 19.6848 14.0556 19.4544C14.286 19.224 14.4008 18.9392 14.4 18.6C14.4 18.26 14.2848 17.9748 14.0544 17.7444C13.824 17.514 13.5392 17.3992 13.2 17.4C12.86 17.4 12.5748 17.5152 12.3444 17.7456C12.114 17.976 11.9992 18.2608 12 18.6C12 18.94 12.1152 19.2252 12.3456 19.4556C12.576 19.686 12.8608 19.8008 13.2 19.8ZM20.4 19.8C20.74 19.8 21.0252 19.6848 21.2556 19.4544C21.486 19.224 21.6008 18.9392 21.6 18.6C21.6 18.26 21.4848 17.9748 21.2544 17.7444C21.024 17.514 20.7392 17.3992 20.4 17.4C20.06 17.4 19.7748 17.5152 19.5444 17.7456C19.314 17.976 19.1992 18.2608 19.2 18.6C19.2 18.94 19.3152 19.2252 19.5456 19.4556C19.776 19.686 20.0608 19.8008 20.4 19.8ZM4.8 14.4V12H7.2V14.4H4.8ZM10.8 7.2V4.8H13.2V7.2H10.8ZM4.8 19.2V16.8H7.2V19.2H4.8ZM4.8 24V21.6H7.2V24H4.8ZM0 24V9.6C0 8.94 0.2352 8.3748 0.7056 7.9044C1.176 7.434 1.7408 7.1992 2.4 7.2H6V2.4C6 1.74 6.2352 1.1748 6.7056 0.704402C7.176 0.234002 7.7408 -0.000797962 8.4 2.03735e-06H15.6C16.26 2.03735e-06 16.8252 0.235202 17.2956 0.705602C17.766 1.176 18.0008 1.7408 18 2.4V8.4H15.6V2.4H8.4V9.6H2.4V24H0Z"/>
            </g>
            <defs>
              <clipPath id="clip0_532_561">
                <rect width="32" height="32" fill="white"/>
              </clipPath>
            </defs>
          </svg>
        </div>
      </div>
      <div class="item"
           [ngClass]="{'active': currentNavTab == navTab.orders}"
           (click)="changeNavTab(navTab.orders)"
      >
        <span>Заказы</span>
        <div class="img-svg">
          <svg class="orders" width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M24.6667 5.33333H7.33333C6.59695 5.33333 6 5.93029 6 6.66667V28C6 28.7364 6.59695 29.3333 7.33333 29.3333H24.6667C25.403 29.3333 26 28.7364 26 28V6.66667C26 5.93029 25.403 5.33333 24.6667 5.33333Z" stroke-width="2.66667" stroke-linejoin="round"/>
            <path d="M12 2.66666V6.66666M20 2.66666V6.66666M10.6667 12.6667H21.3334M10.6667 18H18.6667M10.6667 23.3333H16" stroke-width="2.66667" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
      </div>
      <div class="item"
           [ngClass]="{'active': currentNavTab == navTab.about}"
           (click)="changeNavTab(navTab.about)"
      >
        <span>О нас</span>
        <div class="img-svg">
          <svg class="about" width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M4 5C4 4.02754 4.38312 3.09491 5.06507 2.40728C5.74702 1.71964 6.67194 1.33334 7.63636 1.33334H24.3636C24.8412 1.33334 25.314 1.42818 25.7552 1.61244C26.1964 1.79671 26.5973 2.0668 26.9349 2.40728C27.2726 2.74776 27.5405 3.15197 27.7232 3.59683C27.9059 4.04169 28 4.51849 28 5V25.9C28 26.1917 27.8851 26.4715 27.6805 26.6778C27.4759 26.8841 27.1984 27 26.9091 27H6.18182C6.18182 27.389 6.33506 27.762 6.60785 28.0371C6.88063 28.3121 7.25059 28.4667 7.63636 28.4667H26.9091C27.1984 28.4667 27.4759 28.5826 27.6805 28.7889C27.8851 28.9951 28 29.2749 28 29.5667C28 29.8584 27.8851 30.1382 27.6805 30.3445C27.4759 30.5508 27.1984 30.6667 26.9091 30.6667H7.63636C6.67194 30.6667 5.74702 30.2804 5.06507 29.5927C4.38312 28.9051 4 27.9725 4 27V5ZM16 10.1333C16.3858 10.1333 16.7557 9.97881 17.0285 9.70376C17.3013 9.42871 17.4545 9.05565 17.4545 8.66667C17.4545 8.27769 17.3013 7.90463 17.0285 7.62958C16.7557 7.35453 16.3858 7.2 16 7.2C15.6142 7.2 15.2443 7.35453 14.9715 7.62958C14.6987 7.90463 14.5455 8.27769 14.5455 8.66667C14.5455 9.05565 14.6987 9.42871 14.9715 9.70376C15.2443 9.97881 15.6142 10.1333 16 10.1333ZM14.9091 12.7V20.0333C14.9091 20.3251 15.024 20.6049 15.2286 20.8112C15.4332 21.0174 15.7107 21.1333 16 21.1333C16.2893 21.1333 16.5668 21.0174 16.7714 20.8112C16.976 20.6049 17.0909 20.3251 17.0909 20.0333V12.7C17.0909 12.4083 16.976 12.1285 16.7714 11.9222C16.5668 11.7159 16.2893 11.6 16 11.6C15.7107 11.6 15.4332 11.7159 15.2286 11.9222C15.024 12.1285 14.9091 12.4083 14.9091 12.7Z"/>
          </svg>
        </div>
      </div>
    </nav>
    <div class="user relative">
      <div class="i-c-p flex items-center" (click)="openPopup()">
        <div class="avatar i-c-p"
             [ngClass]="{'signin' : identifyService.isAuthenticated(), 'unsignin' : !identifyService.isAuthenticated()}"
        >
          <img class="i-c-p" src="../../../assets/icons/icon-avatar.svg" alt="">
        </div>
        <img class="i-c-p cursor-pointer" [ngClass]="{'rotate': isOpenPopup}" src="../../../assets/icons/icon-arrow-dropdown-2.svg" alt="">
      </div>

      <div [ngClass]="{'animation': !isOpenPopup}" class="popup-wrapper">
        <div class="popup-triangle-bg">
          <div class="popup-triangle"></div>
        </div>
        <div *ngIf="!identifyService.isAuthenticated()" class="popup-content">
          <div class="__item-nav" (click)="routePageSignUp()">
            <p>Регистрация</p>
          </div>
          <div class="__item-nav" (click)="routePageSignIn()">
            <p>Войти</p>
          </div>
        </div>
        <div *ngIf="identifyService.isAuthenticated()" class="popup-content">
          <div class="header">
            <p>Вы вошли как</p>
            <p class="user-name">{{(!this.identifyService.claims ? "" : this.identifyService.claims.FullName) | abbreviationName}}</p>
          </div>
          <div class="separate"></div>
          <div class="__item-nav">
            <p>Ваш профиль</p>
          </div>
          <div class="__item-nav" (click)="routeTo(namesRoute.TRANSPORTS_MY)">
            <p>Ваш транспорт</p>
          </div>
          <div class="__item-nav">
            <p>Ваши заказы</p>
          </div>
          <div class="separate"></div>
          <div class="__item-nav" (click)="routeTo(namesRoute.TRANSPORT_ADD)" >
            <p>Добавить транспорт</p>
          </div>
          <div class="__item-nav">
            <p>Добавить заказ</p>
          </div>
          <div class="separate"></div>
          <div class="__item-nav" (click)="logout()">
            <p>Выход</p>
          </div>
        </div>
      </div>


    </div>
  </div>
  <div *ngIf="isSign" class="_container wrapper">
    <nav class="nav">
      <div class="item"
           (click)="changeNavTab(navTab.home)"
      >
        <p>Вернуться на главную</p>
      </div>
    </nav>
  </div>
</header>
